
//#include "stdafx.h"
#include <iostream>
#include <set>

using namespace std;

int nimber[] = {0,0,2,2,1,4,3,3,1,4,2,6,5,0,2,7,1,4,3,3,1,4,7,7,5,0,2,8,4,4,6,3,1,8,7,7,5,0,2,2,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,4,2,7,5,0,2,8,1,4,6,3,1,8,7,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1,8,2,7,5,0,2,8,1,4,6,3,1 };;

void doIt()
{
	int n, m;
	cin >> n >> m;
	int xo = 0;
	multiset<int> secik;
	for (int x = 1; x <= n; x++)
	{
	
		secik.insert(0);
		secik.insert(m+1);
		for (int y = 1; y <= m; y++)
		{
			char p;
			cin >> p;
			if (p == '1')
			{
				secik.insert(y);
			}
		}
		if (x % 2 == 0)
		{
		
			for (auto it = secik.begin(); it != secik.end();)
			{
				int a = *it;
				it++;
				if (it == secik.end()) break;
				int b = *it;
				if (a == b) continue;

				int roznica = b - a - 1;
				xo ^= nimber[roznica];

				if (secik.count(a) == 1)
				{
					xo ^= 1;
				}
			}

			secik.clear();
		}	
	}
	if (xo == 0) cout << "TAK";
	else cout << "NIE";
	cout << endl;
}


int main()
{
	int z;
	cin >> z;
	while (z--)
	{
		doIt();
	}
	system("pause");
	return 0;
}

